<?php/** * @version		$Id: $ * @author		Mr.LongAnh * @package		Joomla! * @subpackage	Plugin * @copyright	Copyright (C) 2008 - 2011 by Codextension. All rights reserved. * @license		http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL version 3 */defined('JPATH_BASE') or die;jimport('joomla.form.formfield');class JFormFieldAsset extends JFormField {    protected $type = 'Asset';    protected function getInput() {				//JHTML::_('behavior.mootools');		$checkJqueryLoaded = false;		$document	= &JFactory::getDocument();		$header = $document->getHeadData();		foreach($header['scripts'] as $scriptName => $scriptData)		{			if(substr_count($scriptName,'jquery')){				$checkJqueryLoaded = true;			}			if(substr_count($scriptName,'chosen')){				unset($header['scripts'][$scriptName]);			}		}				$document->setHeadData(array('scripts'=>$header['scripts']));				if( isset($header['script']) && count($header['script'])=='1' ){			foreach($header['script'] as $scriptName2 => $scriptData2)			{				$replacescriptData2 = str_replace('chosen', 'jlchosen2', $scriptData2);			}			$document->setHeadData(array('script'=>array('text/javascript'=>$replacescriptData2)));		}		//Add js		if(!$checkJqueryLoaded){			$document->addScript(JURI::root().$this->element['path'].'js/jquery.min.js');		}		$document->addScript(JURI::root().$this->element['path'].'js/chosen.jquery.min.js');		$document->addScript(JURI::root().$this->element['path'].'js/colorpicker/colorpicker.js');        $document->addScript(JURI::root().$this->element['path'].'js/jl.js');        				//Add css         		$document->addStyleSheet(JURI::root().$this->element['path'].'css/jl.css');        $document->addStyleSheet(JURI::root().$this->element['path'].'js/colorpicker/colorpicker.css');        $document->addStyleSheet(JURI::root().$this->element['path'].'css/chosen.css');                        return null;    }}